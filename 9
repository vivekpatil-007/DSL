class Hash:
    def __init__(self, size=10):
        self.size = size
        self.table = [None] * size
        self.DELETED = 'DELETED' 

    def insert(self, key):
        index = key % self.size
        original_index = index
        while self.table[index] is not None:
            if self.table[index] == key:
                print("Key is already present")
                return
            index = (index + 1) % self.size
            if index == original_index:
                print(" Hash table is full.")
                return
        self.table[index] = key
        print("Key  inserted ")

    def search(self, key):
        index = key % self.size
        original_index = index
        while self.table[index] is not None:
            if self.table[index] == key:
                print("The key is present.")
                return index 
            index = (index + 1) % self.size
            if index == original_index:
                break
        print("The key is not present in the table.")
        return -1

    def delete(self, key):
        index = key % self.size
        original_index = index
        while self.table[index] is not None:
            if self.table[index] == key:
                self.table[index] = self.DELETED 
                print(f"Key {key} deleted from index {index}.")
                return True
            index = (index + 1) % self.size
            if index == original_index:
                break     
        print("Key  not found.")
        return False
        
    def display(self):
        for i in range(self.size):
            value = self.table[i]
            if value is None:
                display_value = "None"
            elif value == self.DELETED:
                display_value = f"'{self.DELETED}'"
            else:
                display_value = value
            print(f"Index {i}: {display_value}")


def menu():
    h1 = Hash() 
    while True:
        print("1. Insert a key")
        print("2. Search for a key")
        print("3. Delete a key")
        print("4. Display the hash table")
        print("5. Exit")
        choice = int(input("Enter choice: "))
        if choice == 1:  
            key = int(input("Enter a key (integer) to insert: "))
            h1.insert(key)
        elif choice == 2:
            key = int(input("Enter the key you want to search (integer): "))
            h1.search(key)    
        elif choice == 3:
            key = int(input("Enter the key you want to delete (integer): "))
            h1.delete(key)
        elif choice == 4:
            h1.display()
        elif choice == 5:
            print("Exiting Hash Table program.")
            break  
        else:
            print("Invalid choice! Please select a number from 1 to 5.")

if __name__ == "__main__":
    menu()
